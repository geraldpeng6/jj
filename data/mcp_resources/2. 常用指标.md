---
title: 2. 常用指标
type: syntax
source: data/帮助文档/语法手册/2. 常用指标.docx
format: markdown
---

# 2. 常用指标

2. 常用指标

AccDeOsc 加速振荡指标

函数名：AccelerationDecelerationOscillator，AccDeOsc

中文名称：加速振荡指标ROC

简介：

加速器振荡器是由比尔·威廉姆斯（Bill Williams）开发的指标，可帮助交易者衡量动量的变化。 

它基于Awesome Oscillator（AO）并测量该指标与其5周期移动平均线之间的差异，有效地显示了AO指标的变化速度并预测下一步如何。

如果振荡器处于正区域，则向上加速可能会继续。如果振荡器处于负值区域，则向下加速可能会继续。

计算公式：

释义：

AO：表示数据 data 的动量振荡值

SMA（AO，period）表示计算数据 AO 的周期为 period 的简单移动平均值 。

调用方式：

参数：

点击图片可查看完整电子表格

返回：

accde：加速振荡值

Accum 累加值  

函数名：Accum，CumSum, CumulativeSum

中文名称：累加值

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

accum：累计值

AroonUpDown 阿隆指标  

函数名：AroonUpDown，AroonIndicator

中文名称：阿隆指标

是否支持绘图：是

简介：

阿隆指标是由图莎尔·钱德（Tushar Chande）于1995年发明的，通过计算自价格达到近期最高值和最低值以来所经过的期间数，以预测价格趋势到趋势区域（或反过来，从趋势区域到趋势）的变化。

阿隆指标包括两个具体的指标，阿隆上升指标 AroonUp 和阿隆下降指标 AroonDown 。

计算公式：

调用公式：

参数：

点击图片可查看完整电子表格

返回：

aroonup：阿隆上升值，相同条件下和指标 AroonUp 的返回值保持一致

aroondown：阿隆下降值，相同条件下和指标 AroonDown 的返回值保持一致

AroonUp 阿隆上升指标 

函数名：AroonUp

中文名称：阿隆上升指标

简介：

该指标是通过计算价格达到近期高值以来所经过的期间数，以预测价格趋势到趋势区域（或反过来，从趋势区域到趋势）的变化。

如果 Up 线达到100，表示市场处于强势，如果维持在70~100之间，表示处于上升趋势。

计算公式：

释义：

hhidx：记当前 bar 的索引为0 ，往前推 period+1 根bar，返回最高价中的第一个最大值的索引

调用方式：

参数：

点击图片可查看完整电子表格

返回：

aroonup：阿隆上升值

AroonDown 阿隆下降指标  

函数名：AroonDown

中文名称：阿隆下降指标

简介：

该指标是通过计算价格达到近期最低值以来所经过的期间数，以预测价格趋势到趋势区域（或反过来，从趋势区域到趋势）的变化。

如果Down线达到0，表示市场处于弱势，如果维持在0~30之间，表示处于下跌趋势。

计算公式：

释义：

llidx：记当前 bar 的索引为0， 往前推 period+1 根bar，返回最低价中的第一个最小值的索引

调用公式：

参数：

点击图片可查看完整电子表格

返回：

aroondown：阿隆下降值

AroonOsc 阿隆振荡  

函数名：AroonOscillator，AroonOsc

中文名称：阿隆振荡

简介：

该指标是指标 AroonUpDown 的变种，返回阿隆上升值与阿隆下降值之差。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

aroonosc：阿隆振荡值

Average 算术平均线  

函数名：Average，ArithmeticMean，Mean

中文名称：算术平均线

简介：

返回给定历史周期 period 内的数据的算数平均值

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

av：算术平均值

ADX 平均趋向指数 

函数名：AverageDirectionalMovementIndex，ADX

简介：

该指标是J. Welles Wilder 于1978年研发出来，表示价格趋势强度的指标；

ADX 可以作为趋势行情的判断依据。当行情明显朝多空任意方向进行时，ADX数值都会显著上升，趋势走强；ADX持续偏高时，代表“超买”（Overbrought） 或 “超卖”（Oversold）的现象，行情反转的机会将增加，此时则不适宜顺势操作。

当ADX数值从上升趋势转为下跌时，代表行情可能即将反转；

若ADX数值由下跌趋势转为上升时，代表行情可能即将止跌回升。

ADX无法表现出趋势方向，只能表现出趋势的强弱。

计算公式：

释义：

SMMA（+dm，period）：表示计算数据 +dm 的周期为 period 的平滑移动平均值

ATR（data，period）表示计算数据 data 的周期为 period 的真实波动幅度均值

调用方式：

参数：

点击图片可查看完整电子表格

返回：

adx：平均趋向指数

ADXR 动向指标/趋向指标  

函数名：AverageDirectionalMovementIndexRating，ADXR

中文名称：动向指标/趋向指标

简介：

该指标是J. Welles Wilder 于1978年研发出来，是ADX的移动平均值。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

adx ：平均趋向指数

adxr：平均趋向指数的均值

ATR 平均真实波幅

函数名：Average True Range，TR

简介：

平均真实波幅 ATR  是指过去一段时间真实波幅（TR，英文全称 True Range）的移动平均值，主要用于研判买卖时机，一般结合其他指标使用，不单独使用。

真实波动幅度均值是由美国机械工程师、技术分析师威勒斯·威尔德（J. Welles Wilder）1978年所发展出来的技术分析指标。

波动幅度的概念表示可以显示出交易者的期望和热情。大幅的或增加中的波动幅度表示交易者在当天可能准备持续买进或卖出股票。波动幅度的减少则表示交易者对股市没有太大的兴趣。

计算公式：

ATR = TR 的 移动平均值

TR  =  绝对值的最大值（当日最高价 - 当日最低价 、 当日最高价 - 前一日收盘价、当日最低价 - 前一日收盘价） 

TR 为下图中，三个差值的绝对值的最大值

释义：AverageTrueRange(标的, period) 

标的：单个标的一般用context.data

period：计算真实波幅移动平均值的周期

调用方式：

参数：

点击图片可查看完整电子表格

返回：

atr：真实波动幅度均值

AwesomeOsc 动量振荡器指标

函数名：AwesomeOscillator, AO, AwesomeOsc

中文名称：动量振荡器指标

简介：

动量震荡指标是由比尔·威廉姆斯（Bill Williams）创立的。

动量震荡指标(Awesome Oscillator)是用于衡量市场动力的指标。 AO计算34个周期和5个周期的简单移动平均值之差。使用的简单移动平均线不是使用收盘价计算的，而是每个柱线的中点。 AO通常用于确认趋势或预测可能的逆转。

计算公式：

释义：

SMA（MP，fast）表示计算数据 MP 的周期为 fast 的简单移动平均值

调用方式：

参数：

点击图片可查看完整电子表格

返回：

ao：动量振荡指标值

ARBR  人气意愿指标

函数名：ARBR

中文名称：人气意愿指标

简介：

ARBR指标就是通过分析股票的开盘价、收盘价、最高价和最价之间的关系来判断多空双方力量的对比，更好地预示股市行情未来走势。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

ar：人气指标

br：意愿指标

arbr：人气意愿指标

BOLL 布林线 

函数名：BollingerBands,BBands,BOLL

中文名称：布林带指标

简介：

布林线是一种结合了移动平均和标准差的概念的技术指标；它由 3 根线构成，分别是上轨线、中轨线、下轨线，形状像一个宽窄不一的“通道”；中轨将“通道”分成了上下两部分，中轨到上轨为强势区，中轨到下轨为弱势区。

布林带（BB）是由John Bollinger在1980年代初期创立的一种广泛流行的技术分析工具。

中线通常是设定为20天的简单移动平均线（SMA）（交易者可以更改趋势线和周期的类型；但是，到目前为止，最受欢迎的是20天移动平均线）。然后，SMA用作上轨和下轨的基础。

通过观察上轨和价格之间的关系，上轨和下轨被用作衡量波动率的一种方法。通常，上下轨设定为与SMA（中线）相距两个标准差；但是，标准差的数量也可以由交易员调整。

计算公式：

中轨线 = 价格的 SMAn；

上轨线 = 中轨线 + k * 标准差 σn

下轨线 = 中轨线 - k * 标准差 σn

n 为计算简单移动平均线、标准差的周期，一般为 20 天

k 为常数，一般为 2

σn  为指定周期收盘价的标准差

语法：

boll_instance = BollingerBands(数据, period, devfactor)

数据：一般为历史收盘价 context.data.close

参数 period：要统计的时间周期，一般为天；

参数 devfactor：中轨距离上下轨标准差的倍数，即公式中的 k。

中轨线：BollingerBands 对象.mid

示例：boll_instance.mid

上轨线：BollingerBands 对象.top

示例：boll_instance.top

下轨线：BollingerBands 对象.bot

示例：boll_instance.bot

调用方式：

返回：

mid：布林带中轨

top：布林带上轨

bot：布林带下轨

BollingerBandsPct 布林带指标

函数名：BollingerBandsPct

中文名称：布林带指标

是否支持绘图：是

简介：

布林带％B或百分比带宽（％B）是从标准布林频带（BB）指标派生而来的指标。

％B指标的作用是量化或显示价格相对于布林带的位置。

％B在识别趋势和交易信号时很有用。

计算公式：

释义：

StdDev_{(data, period): 表示计算数据 close 的周期为 period 的标准偏差

调用方式：

参数：

点击图片可查看完整电子表格

返回：

pctb：百分比带宽值

BIAS 乖离率

函数名：BIAS

中文名称：乖离率

简介：

乖离率(BIAS)，又称偏离率，是通过计算收盘价与某条移动平均线之间的差距百分比，以反映一定时期内价格与其MA偏离程度的指标。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

bias：乖离率值

BOP 能量均衡指标

函数名：BOP

中文名称：能量均衡指标

简介：

能量均衡(BOP)是一个罕见的指标，由唐·沃登(Don Worden)在20世纪50年代提出。

该指标评估了买家和卖家推动市场资产价格达到极端水平的能力。

计算公式：

调用方式：

参数：

无参数

返回：

bop：能量均衡值

CCI 顺势指标 

函数名：CommodityChannelIndex, CCI

中文名称：顺势指标

简介：

顺势指标是一种专门用于衡量标的价格是否超过常态分布范围的指标;

根据 CCI 的值，我们可以把标的价格分布划分为 3 块区域：超买区、震荡区、超卖区。

注：上图中的 -100、+100 都为市面上常用划分值。

计算公式：

CCI = （TP - MA）÷ MD ÷ 常数

TP = （最高价 + 最低价 + 收盘价） / 3；

MA = 最近 n 日 TP 累加和 / n；

MD = 最近 n 日（TP - MA）绝对值的累计和 / n。

n 为计算周期

常数一般取 0.015，样能使买卖信号的阈值落在 -100 和 +100 处。

调用方式：

参数：

点击图片可查看完整电子表格

返回：

cci：顺势指标值

CrossDown  下穿指标

函数名：CrossDown

中文名称：下穿指标

简介：

该指标需要输入两个数据线；

该指标可用于判断第一个数据线是否下穿第一个数据线；

如果第一个数据线与第二个数据线的上一根 bar 的最近非零差值大于0，当前 bar 的最近非零差值小于0，则表示第一个数据线下穿第二个数据线，返回1.0；否则，返回0.0。

计算公式：

调用方式：

参数:

无参数

返回：

cross：bool值，如果第一个数据线下穿第二个数据线，返回1.0；否则，返回0.0。

CrossOver 交叉指标 

函数名：CrossOver

中文名称：交叉指标

简介：

该指标需要输入两个数据线；

该指标可用于判断第一个数据线与第二个数据线的交叉情况。

计算公式：

调用方式：

参数：

无参数

返回：

crossover：bool值，1.0 / -1.0 / 0.0

CrossUp 上穿指标

函数名：CrossUp

中文名称：上穿指标

简介：

该指标需要输入两个数据线；

该指标可用于判断第一个数据线是否上穿第一个数据线；

如果第一个数据线与第二个数据线的上一根 bar 的最近非零差值小于0，当前 bar 的最近非零差值大于0，则表示第一个数据线上穿第二个数据线，返回1.0；否则，返回0.0。

计算公式：

调用方式：

参数：

无参数

返回：

cross：bool值，如果第一个数据线上穿第二个数据线，返回1.0；否则，返回0.0。

DPO 去趋势价格摆动指标

函数名：DetrendedPriceOscillator，DPO

中文名称：去趋势价格摆动指标

是否支持绘图：是

简介：

非趋势价格摆动指标（DPO）用来剔除价格中的趋势。这样做是为了识别和隔离短期周期。

DPO通常与当前的价格不一致，它被右边(过去)抵消，这有助于消除当前的趋势。

由于它与过去相抵消，DPO不被认为是动量震荡指标，它只通过简单的移动平均线来衡量过去的价格，以此来衡量一个周期的高/低区间以及典型的持续时间。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

dpo：非趋势价格摆动值

DMA  Dickson移动平均线 

函数名：DicksonMovingAverage，DMA，DicksonMA

中文名称：Dickson移动平均线

简介：

Dickson移动平均线结合了Ehlers的零滞后指标 ZeroLagIndicator(又名ErrorCorrecting或EC)和 船体移动平均线 HullMovingAverage。

计算公式：

释义：

ec：表示零滞后指标值 ZeroLagIndicator

hma：表示船体移动平均值 HullMovingAverage

调用方式：

参数：

点击图片可查看完整电子表格

返回：

dma：Dickson移动平均值

DI 方向指标 

函数名：DirectionalIndicator，DI

中文名称：方向指标

简介：

该指标是J. Welles Wilder 于1978年研发出来，可用于计算指标ADX；

该指标调用了PlusDirectionalIndicator 和 MinusDirectionalIndicator ，返回 +DI和-DI。

计算公式：

释义：

SMMA（+dm，period）：表示计算数据 +dm 的周期为 period 的平滑移动平均值

ATR（data，period）：表示计算数据 data 的周期为 period 的真实波动幅度均值

调用方式：

参数：

点击图片可查看完整电子表格

返回：

plusDI：+di， 正方向指标

minusDI：-di，负方向指标

DM 动向指标/趋向指标 

函数名：DirectionalMovement，DM

中文名称：动向指标/趋向指标

简介：

该指标调用了指标AverageDirectionalMovementIndexRating（ADXR）和指标 DirectionalIndicator（DI），返回以上两个指标的返回值。

计算公式：

adx = 数据 data 的平均趋向指数

adx = 数据 data 的平均趋向指数的均值

plusDI = 数据 data 的的正方向指标

minusDI = 数据 data 的负方向指标

调用方式：

参数：

点击图片可查看完整电子表格

返回值：

adx：平均趋向指数

adxr：平均趋向指数的均值

plusDI：正方向指标

minusDI：负方向指标

DMI 动向指标/趋向指标 

函数名：DirectionalMovementIndex，DMI

中文名称：动向指标/趋向指标

简介：

该指标调用了指标 AverageDirectionalMovementIndex （ADX）和指标 DirectionalIndicator（DI），返回以上两个指标的返回值。

计算公式：

adx = 数据 data 的平均趋向指数

plusDI = 数据 data 的的正方向指标

minusDI = 数据 data 的负方向指标

调用方式：

参数：

点击图片可查看完整电子表格

返回值：

adx：平均趋向指数

plusDI：正方向指标

minusDI：负方向指标

DEMA 双移动平均线 

函数名：DoubleExponentialMovingAverage ，DEMA， MovingAverageDoubleExponential

中文名称：双移动平均线

简介：

DEMA于1994年首次引入Patrick G. Mulloy在“股票和商品技术分析”杂志的文章“使数据移动平均速度更快”。

它试图减少与移动平均线相关的固有滞

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回值：

dema：双移动平均值

DonchianChannel 唐奇安通道

函数名：DonchianChannel

中文名称：唐奇安通道

简介：

唐奇安通道(DC)指标是由著名商品交易员Richard Donchian创建的。

唐奇安通道(DC)用于技术分析，以衡量市场的波动性。它是一个带状指标，类似于布林带。

唐奇安通道指标主要用于确定当价格达到上轨或下轨时潜在的突破或超买/超卖状况。这些情况将表明潜在的交易信号。

计算公式：

释义：

Highest（high,period）：表示计算数据 high 的周期为 period 的最大值

Lowest（high,period）：表示计算数据 low 的周期为 period 的最小值

调用方式：

参数：

点击图片可查看完整电子表格

返回：

mid：中轨

top：上轨

bot：下轨

DownDay 下跌指标 

函数名：DownDay

中文名称：下跌指标

简介：

该指标J. Welles Wilder开发，并于1978 年发表在《技术交易系统的新概念》；

如果当前 bar 相对于历史周期前的 bar 上涨，则返回下跌值；否则，返回0。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

downday：下跌值，返回的是绝对数值

DownDayBool 下跌指标 

函数名：DownDayBool

中文名称：下跌指标

简介：

该指标J. Welles Wilder开发，并于1978 年发表在《技术交易系统的新概念》；

如果当前 bar 相对于历史周期前的 bar 下跌，则返回1.0；否则，返回0.0。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

downday：返回的是布尔值，而不是绝对数值。1.0 代表True；0.0 表示False。

DownMove 下降指标 

函数名：DownMove

中文名称：下降指标

简介：

该指标是J·韦尔斯·怀尔德，于1978年发表在《New Concepts in Technical Trading Systems》。

该指标返回上一根 bar与当前 bar 的差值，可用于计算 Directional Indicator。

计算公式：

downmove = data(-1) - data

调用方式：

参数：

无参数

返回：

downmove：上一根 bar与当前 bar 的差值

DummyInd 辅助线

函数名：DummyInd

中文名称：辅助线

简介：

该指标主要是用于绘制水平辅助线

如果传入的value大于0，则返回一条值为value的水平线，如果value等于0，则返回一条值为0的水平线

计算公式：

Max(0.0, value)

调用方式：

参数：

点击图片可查看完整电子表格

返回：

dummyline:  值为value或0的水平辅助线

DQN 深度Q网络

函数名：DQN

中文名称：深度Q网络

简介：

DQN是在Q-learning的基础上作出改进的算法。

Q-learning的原理是使用一张表来记录各个状态下的各个行为的Q值，它能记录状态的数量是有限的。在量化交易中可能存在无数种状态和行为的组合，如果用一张表来记录，那么这张表将大到无法想象。所以DQN不用表来记录Q值，而是用一个深度学习神经网络来预测Q值，通过不断优化神经网络从而学习到Q值，并且每次选择状态下Q值最大的行为。

其预测的是离散型行为，主要分为三种：持有、卖出、买入。

计算公式：——

调用方式：

参数：

点击图片可查看完整电子表格

返回：

dqn_prediction：dqn预测结果

EMA 指数移动平均值 

函数名：ExponentialMovingAverage / EMA / MovingAverageExponential

中文名称：指数移动平均值

简介：

指数移动平均值（Exponential Moving Average，简称 EMA）是一种趋向类指标，实现原理是计算指定时间的收盘价的加权平均值，并在计算过程，赋予当天收盘价更高的权重。

计算公式：EMAn = 平滑因子 * 当天收盘价 + (1-平滑因子) * EMAn-1

平滑因子一般为 2/(n+1)

n 为指定的天数

EMAn 为当天的 EMA 值

EMAn-1 为前一天的 EMA 值

语法：EMA(数据, period)

数据：一般为历史收盘价 context.data.close，也可以使用其它历史行情数据（其他可取值见上方【标的数据对象】的数据表格）；

参数 period：要统计的时间周期，单位一般为天。

示例：

EMV 简易波动指标

函数名：EMV

中文名称：简易波动指标

简介：

简易波动(Ease of Movement Value)是一个反映股票价格变动与成交量关系的技术指标。它是由Richard W. Arms Jr.所提出的。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

emv：简易波动值

Envelope 包络线

函数名：Envelope

中文名称：包络线

简介：

创建与源数据分开给定百分比的包络带

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

top：包络线上轨

src：包络线中轨

bot：包络线下轨

ExponentialSmoothing 指数平滑法 

函数名：ExponentialSmoothing/ExpSmoothing

中文名称：指数平滑法

简介：

指数平滑法是布朗(Robert G..Brown)所提出，布朗(Robert G..Brown)认为时间序列的态势具有稳定性或规则性，所以时间序列可被合理地顺势推延；他认为最近的过去态势，在某种程度上会持续到最近的未来，所以将较大的权数放在最近的数据。

该指标兼容了全期平均和移动平均所长，不舍弃过去的数据，但是仅给予逐渐减弱的影响程度，即随着数据的远离，赋予逐渐收敛为零的权数。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

av：指数平滑值

ExponentialSmoothingDynamic 动态指数平滑法 

函数名：ExponentialSmoothingDynamic，ExpSmoothingDynamic

中文名称：动态指数平滑法

简介：

该指标与指数平滑法 ExponentialSmoothing 的区别在于平滑因子alpha 可以是动态变化的；

该指标可用于计算指标KAMA。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

av：动态指数平滑值

HeikinAshi 烛台图

函数名：HeikinAshi

中文名称：烛台图

简介：

烛台图是技术分析的基石，在形式上与蜡烛图很相似，但其计算规则略微不同，简单来说是计算「开盘价、最高价、最低价、收盘价」的方法不同，采用了平均值的计算方法，这在某种程度上能够让图表忽略掉一些不必要的波动，让趋势变得更为明显。

计算公式：

调用方式：

参数

无参数

返回：

ha_open/open：开盘价

ha_high/high：最高价

ha_low/low：最低价

ha_close/close：收盘价

Highest 周期内最大值 

函数名：Highest/MaxN

中文名称：周期内最大值

简介：

计算给定时间段内数据的最高值

计算公式：

highest = max(data, period)

调用方式：

参数

点击图片可查看完整电子表格

返回：

highest：周期内最大值

 HMA 船体移动平均线

函数名：HullMovingAverage/ HMA/ HullMA

中文名称：船体移动平均线

简介：

HMA指标对平滑价格波动方面有所改善，并且还考虑到价格滞后。它通过使用给定期间的平方根，而不是实际期间本身。

它强调的是近期的价格，而不是较早的价格，从而形成了快速而平稳的移动平均线，可以用来识别当前的市场趋势。

计算公式：

调用方式：

参数

点击图片可查看完整电子表格

返回：

hma：船体移动平均值

Hurst 赫斯特指数

函数名：HurstExponent，Hurst

中文名称：赫斯特指数

简介：

Hurst的值域是 [0,1]

H < 0.5，说明时间序列趋向于均值回归，出现相反趋势；

H = 0.5，说明时间序列可用随机游走描述；

H > 0.5，说明时间序列具有长期记忆。

计算公式：——

调用方式：

参数

点击图片可查看完整电子表格

返回

hurst：赫斯特指数值

haDelta

函数名：haDelta，haD

中文名称：——

简介：

该指标衡量了 HeikinAshi 的收盘价和 HeikinAshi 的开盘价之间的差异。

计算公式：

释义：

close：表示 HeikinAshi 的收盘价

open：表示 HeikinAshi 的开盘价

调用方式：

参数：

点击图片可查看完整电子表格

返回：

haDelta：收盘价与开盘价的差值

smoothed：haDelta的平均值

Hilbert 希尔伯特变换

函数名：Hilbert

中文名称：希尔伯特变换

简介：

希尔伯特变换作为时域到时域的积分变换， 主要目的是为信号提供π/2的相位差。

通过希尔伯特变换，可以构造同相正交空间，并在其中分析诸如市场指数等非周期信号的“周期”性质。

观察价格波动在一个周期内的变化，从而判断价格处于主升浪状态还是主跌浪状态。

计算公式：——

调用方式：

参数：

点击图片可查看完整电子表格

返回：

real：实部

imag：虚部

KAMA 考夫曼的自适应移动平均线

函数名：AdaptiveMovingAverage，KAMA，MovingAverageAdaptive

中文名称：考夫曼的自适应移动平均线

简介：

考夫曼的自适应移动平均线（KAMA）由佩里·J·考夫曼创建，于1998年发表在其著作《交易系统和方法，第三版》中。

该均线考虑到市场价格变动的效率，在市场处于震荡时变化慢；在市场加速向上、向下突 破时反应快。从而反应市场真实的趋势，便于快速抓住趋势性上涨、下跌的时点， 规避市场来回震荡的影响。

计算公式：

释义：

表示计算数据 close 的周期为period 平滑因子为smfactor 的动态指数平滑值。

调用方式：

参数：

点击图片可查看完整电子表格

返回：

kama：考夫曼的自适应移动平均值

KeltnerChannel 肯特纳通道

函数名：KeltnerChannel

中文名称：肯特纳通道

简介：

肯特纳通道(KC)是一个滞后指标。

肯特纳通道(KC)是类似于布林带和包络线的带状指标。它由三条线组成：上轨、中轨和下轨。

中轨是用户自定义时间周期的移动平均值，通常采用简单移动平均线或指数移动平均线。

上轨和下轨设置为距离中轨一定范围（由用户自定义）。可以设为日内最高/最低范围的倍数，或更常见的是平均真实波幅(ATR)的倍数。

计算公式：

释义：

SMA(mid,period)：表示计算数据 mid 的周期为 period 的简单移动平均值

ATR(data,period)：表示计算数据 data 的周期为 period 的真实波动幅度均值

调用方式：

参数：

点击图片可查看完整电子表格

返回：

mid：中轨

top：上轨

bot：下轨

KST 确定指标 

函数名：KnowSureThing，KST

中文名称：确定指标

是否支持绘图：是

简介：

是一个两条线指标，用于确定股票趋势的势头。

做为一个震荡指标，它在零线上下波动，提供了交易信号并在基于价格和KST差异以及信号线交叉基础上洞察变化。

计算公式：

调用方式：

参数

点击图片可查看完整电子表格

返回

kst：确定值

signal：确定平均值

KDJ 随机指标

函数名：KDJ

中文名称：随机指标

简介：

该指标融合了移动平均线速度上的观念，形成比较准确的买卖信号依据。在实践中，K线与D线配合J线组成KDJ指标来使用。由于KDJ线本质上是一个随机波动的观念，故其对于掌握中短期行情走势比较准确。

计算公式：

调用方式：

参数

点击图片可查看完整电子表格

返回：

percK：K值

percD：D值

percJ：J值

LAGF  Laguerre过滤器 

函数名：LaguerreFilter，LAGF

中文名称：Laguerre过滤器

简介：

LaguerreRSI加入了额外的Laguerre过滤器以令数据变得更为平滑。

计算公式：

调用方式：

参数

点击图片可查看完整电子表格

返回

lfilter：Laguerre过滤值

LRSI  Laguerre相对强弱指数 

函数名：LaguerreRSI，LRSI

中文名称：Laguerre相对强弱指数

简介：

Laguerre RSI是传统RSI的改进版。相对于传统RSI，Laguerre RSI进一步降低了噪音和滞后性。

该指标对于价格的反应更加灵敏，同时指标产生的“拉锯”现象也更少。

 Laguerre RSI是由约翰·埃勒斯（John Ehlers）发明的。

计算公式：

调用公式：

参数

点击图片可查看完整电子表格

返回：

lrsi：Laguerre相对强弱值

Lowest 周期内最小值 

函数名：Lowest，MinN

中文名称：周期内最小值

简介：

计算给定时间段内数据的最小值

计算公式：

lowest = min(data, period)

调用方式：

参数

点击图片可查看完整电子表格

返回：

lowest：周期内最小值

MACD 平滑异同移动平均线 

函数名：MACD，Moving Average Convergence Divergence

中文名称：指数平滑异同移动平均线

简介：

平滑异同移动平均线是反映股票价格趋势的重要指标，它由四部分组成：DIF 值、DEA 值、MACD 值和零轴线。

利用收盘价的短期（常用为12日）指数移动平均线与长期（常用为26日）指数移动平均线之间的聚合与分离状况，对买进、卖出时机作出研判的技术指标。

MACD 指标的本质就是反映 DIF 值和 DEA 值之间的交叉分离情况。

图中的蓝线称为 DIF 值。它是收盘价的 12 日 EMA 与 26 日 EMA 的差值。

图中的红线称为 DEA 值。它是 DIF 值的 9 日 EMA 值。（注意，计算 EMA 的周期并非是固定的，这里用的 12 日、26 日、9 日只是最常用的取值。）

图中的红绿柱称为 MACD 值，它表示 DIF 值与 DEA 值的差值。以零轴线为界，MACD 值大于零是红色柱子，表示此刻 DIF 值大于 DEA 值；反之是绿色柱子，表示此刻 DIF 值小于 DEA 值。

计算公式：MACD 值 = DIF 值 - DEA 值

DIF 值 = 收盘价的 EMAn - 收盘价的 EMAm

DEA 值 = DIF 值的 EMAk

n、m、k 都为计算对应 EMA 值的周期，且 n < m

语法

macd_instance = MACD(数据, period_me1, period_me2, period_signal)

数据：一般为历史收盘价 context.data.close，也可用其它历史行情数据（其他可取值见上方【标的数据对象】的数据表格）；

参数 period_me1：短期移动平均线的周期，单位一般为天；

参数 period_me2：长期移动平均线的周期，单位一般为天；

参数 period_signal：DIF 的移动平均线周期，单位一般为天。

macd 的 DIF 值：MACD 对象.macd

示例：macd_instance.macd

macd 的 DEA 值：MACD 对象.signal

示例：macd_instance.signal

调用方式：

参数：

点击图片可查看完整电子表格

返回：

macd：离差值

signal：信号线

MACD 直方图 

函数名：MACDHisto，MACDHistogram

中文名称：MACD直方图

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

macd：离差值

signal：信号线

histo：直方图

MAEMV  简易波动均值

函数名：MAEMV

中文名称：简易波动均值

简介：

简易波动(Ease of Movement Value)是一个反映股票价格变动与成交量关系的技术指标。

计算公式：

释义：

SMA（emv,period）表示计算数据 emv 的周期为 period 的简单移动平均值

调用方式；

参数：

点击图片可查看完整电子表格

返回：

emv：简易波动值

maemv：简易波动值的均值

MeanDev 平均绝对偏差 

函数名：MeanDeviation，MeanDev

中文名称：平均绝对偏差

简介：

平均绝对偏差（Mean Absolute Deviation 或 Average Absolute Deviation）是表示各个变量值之间差异程度的数值之一；

指的是各个变量值同平均数的的离差绝对值的算术平均数。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

meandev：平均绝对偏差

MinusDI  负方向指标 

函数名：MinusDirectionalIndicator，MinusDI

中文名称：负方向指标

简介：

该指标是J. Welles Wilder 于1978年研发出来，可用于计算指标ADX；

该指标可用于代表卖盘的强度。

计算公式：

调用方法：

参数：

点击图片可查看完整电子表格

返回：

minusDI：-DI， 负方向指标

Momentum 动量指标

函数名：Momentum

中文名称：动量指标

是否支持绘图：是

简介：

该指标是一种测量涨跌速率的技术指标；

动量的计算是利用“恒速原则”来判断涨跌速率的高低；“恒速原则”是指涨势中的每一段时涨幅相等，跌势中的每一段时间跌幅也应一致；

动量不仅是一种速率、指示器和振荡器，还可用作一种技术交易技术。

计算公式：

调用方式：

参数

点击图片可查看完整电子表格

返回：

momentum：动量值

MomentumOscillator 动量指标

函数名：MomentumOscillator / MomentuOsc

中文名称：动量指标

简介：

该指标与动量指标 Momentum的区别在于，相对量与绝对量的区别。

计算公式：

调用方式：

参数

点击图片可查看完整电子表格

返回：

momosc：动量比率

NZD  非零差值

函数名：NonZeroDifference / NZD

中文名称：非零差值

简介：

该指标需要输入两个数据线；

该指标返回的是第一个数据线的收盘价与第二个数据线的收盘价的最近一个非零差值

计算公式：

调用方式：

参数：

无参数

返回：

nzd：最近的非零差值

OBV 平衡成交量法

函数名：OBV

中文名称：平衡成交量法

简介：

OBV俗称能量潮，是由格兰维尔于1963年提出。

主要理论基础是市场价格的变化必须有成交量的配合，股价的波动与成交量的扩大或萎缩有密切的关连。通常股价上升所需的成交量总是较大；下跌时，则成交量总是较小。

计算公式：

调用方式：

参数：

无参数

返回：

obv：平衡成交量值

Oscillator 振荡指标

函数名：Oscillator 

中文名称：振荡指标

简介：

该指标需要传入两个数据线，返回的是两个数据线的差值。

计算公式：

调用方式：

参数：

无参数

返回：

osc：振荡值

PSAR 抛物线转向指标

函数名：ParabolicSAR，PSAR

中文名称：抛物线转向指标

简介：

PSAR是由J. Welles Wilder发明的，显示了市场价格变化的趋势。

是一种时间和价格技术分析工具，主要用于识别潜在的止损点和反转点。

计算公式：

释义：

按照以上公式顺序更新对应值

调用方式：

参数：

点击图片可查看完整电子表格

返回：

psar：抛物线转向值

PctChange 变动率指标

函数名：PercentChange，PctChange

中文名称：变动率指标

简介：

该指标与ROC返回的指标值一样

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

pctchange：变动率百分比

PercPriceOsc 百分比价格震荡指标

函数名：PercentagePriceOscillator，PercPriceOsc

中文名称：百分比价格震荡指标

简介：

这是一个价格的动量振荡指标；

返回两个移动平均之间的差，做为较大移动平均的百分比。

与MACD一样，PPO反映了两条移动平均线的趋同（收敛/合流）和分歧（背离）。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

ppo：价格摆动百分比

signal：信号线

histo：直方图

PctRank 分位数指标

函数名：PercentRank / PctRank

中文名称：分位数指标

简介：

衡量当前价格相对最近周期价格的百分位排名

计算公式：

调用方式：

参数

点击图片可查看完整电子表格

返回：

pctrank：分位数值

PlusDI 正方向指标 

函数名：PlusDirectionalIndicator，PlusDI

中文名称：正方向指标

简介：

该指标是J. Welles Wilder 于1978年研发出来，可用于计算指标ADX；

该指标可用于代表买盘的强度。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

plusDI：+DI， 正方向指标

PGO 绝佳振荡器指标

函数名：PrettyGoodOscillator，PGO, PrettyGoodOsc

中文名称：绝佳振荡指标

简介：

该指标综合考虑均线和真实平均波幅，可用做长期突破系统交易

计算公式：

释义：

ATR（data,period）表示计算数据data， 周期为 period 的真实平均波幅均值 ATR

调用方式：

参数：

点击图片可查看完整电子表格

返回：

pgo：相对动量值

PPO  近端策略优化

函数名：PPO，Proximal Policy Optimization

中文名称：近端策略优化

简介：

OpenAI 提出了一种新的策略梯度的算法 Proximal Policy Optimization（近端策略优化，PPO），这种算法用在强化学习中时表现能达到甚至超过现有算法的顶尖水平，同时还更易于实现和调试。

PPO是一种Actor-Critic框架，它通过与环境的相互作用在采样数据之间交替，并使用随机梯度上升优化“代理”目标函数。 PPO在每一步迭代中都会尝试计算新的策略，并且保证与上一步迭代的策略的偏差相对较小，从而使损失函数最小化。

它有两个版本，这里提供的是PPO Clip版本。其预测的是连续型行为，每次直接预测出买卖数量，是具体的值。

计算公式：——

调用方式：

参数：

点击图片可查看完整电子表格

返回：

ppo_prediction：ppo预测结果

PriceOsc 价格摆动指标 

函数名：PriceOscillator，PriceOsc, AbsolutePriceOscillator, APO, AbsPriceOsc

中文名称：价格摆动指标

是否支持绘图：是

简介：

价格摆动指标是一种技术分析工具，用于测量动量，与MACD非常像。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

po：绝对价格摆动值

ROC 变动率指标 

函数名：RateOfChange，ROC

中文名称：变动率指标

是否支持绘图：是

简介：

变动率指标衡量了当前价格与几周期之前价格相比的变化。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

roc：变动率值

ROC100 变动率指标 

函数名：RateOfChange100，ROC100

中文名称：变动率指标

简介：

变动率指标衡量了当前价格与几周期之前价格相比的变化百分比。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

roc100：变动率百分值

RMI 相对动量指标 

函数名：RelativeMomentumIndex，RMI

中文名称：相对动量指标

简介：

RMI是由罗吉·阿尔特曼（Roger Altman）发明。

该指标返回的rmi和rsi值相等。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

rmi：相对动量值

RSI 相对强弱指标 

函数名：RelativeStrengthIndex，RSI, RSI_SMMA, RSI_Wilder

中文名称：相对强弱指标

是否支持绘图：是

简介：

该指标是 J. Welles Wilder开发，于1978 年发表在《技术交易系统的新概念》；

RSI是一种通过特定时期内股价的变动情况计算市场买卖力量对比，来判断股票价格内部本质强弱、推测价格未来的变动方向的技术指标。

计算公式：

up = UpDay(close, lookback)

down = DownDay(close, lookback)

调用方式：

参数：

点击图片可查看完整电子表格

返回：

rsi：相对强弱值

SMA 简单移动平均线 

函数名：Simple Moving Average，SMA

中文名：简单移动平均线

简介：

简单移动平均线，即对指定时间段的数据进行统计，并求得平均值，该平均值即为 SMA 值，再将每日的 SMA 值连成线，即为简单移动平均线；

计算公式：

SMAn = (D1+D2+D3...Dn) / n

n 为指定的天数

Dn 为第 n 天的数据

SMAn 为第 n 天的 SMA 值

语法：SMA(数据, period)

数据：一般为标的的行情数据，如历史开盘价 context.data.open（其他可取值见上方【标的数据对象】的数据表格）

参数 period：要统计的时间段，单位一般为天。

示例：

SMMA  平滑移动平均

函数名：SmoothedMovingAverage，SMMA, WilderMA, MovingAverageSmoothed, MovingAverageWilder, ModifiedMovingAverage

中文名称：平滑移动平均

简介：

该指标是减少噪音，而不是减少延迟。该指标考虑了所有价格，并使用了较长的回溯时间。旧的价格不会从计算中删除，但由于分配的权重较低，它们对移动平均线的影响很小。通过减少噪音，它消除了波动，指出主要的趋势。SMMA可用于确定趋势并定义支撑和阻力的领域。它经常与其他信号和分析技术结合使用。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

smma：平滑移动平均值

StdDev  标准偏差

函数名：StandardDeviation，StdDev

中文名称：标准偏差

简介：

该指标是一种度量数据分布的分散程度之标准，用以衡量数据值偏离算术平均值的程度。标准偏差越小，这些值偏离平均值就越少，反之亦然。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

stddev：标准偏差值

Stochastic   慢速随机指标

函数名：Stochastic，StochasticSlow

中文名称：慢速随机指标

简介：

慢速随机指标是通过一段时间内出现过的最高价、最低价及收盘价计算出K和D的值。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

percK：K值

percD：D值

StochasticFast  快速随机指标

函数名：StochasticFast

中文名称：快速随机指标

简介：

快速随机指标是通过一段时间内出现过的最高价、最低价及收盘价计算出K和D的值。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

percK：K值

percD：D值

StochasticFull  全面随机指标

函数名：StochasticFull

中文名称：全面随机指标

简介：

全面随机指标是通过一段时间内出现过的最高价、最低价及收盘价计算出K和D的值。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

percK：K值

percD：D值

percDSlow: 慢速D值

SVMUpDown 支持向量机预测涨跌指标

函数名：SVMUpDown

中文名称：支持向量机预测涨跌指标

简介：

支持向量机是最典型的一类机器学习模型，常用于解决二分类问题。

支持向量机的原理是在一个样本空间内，找到一个平面，将样本数据分为两个部分，即两个分类，这个平面就叫做超平面。

支持向量机的核心就是进行参数优化来寻找最优超平面。

计算公式：——

调用方式：

参数：

点击图片可查看完整电子表格

返回：

svm_prediction：SVM预测结果

TEMA  三重指数移动平均线

函数名：TripleExponentialMovingAverage，TEMA, MovingAverageTripleExponential

中文名称：三重指数移动平均线

简介：

该指标旨在通过施加更多权重，降低移动平均线滞后性的影响

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

tema：三重指数移动平均值

Trix 三重平滑移动平均线

函数名：Trix，TRIX

中文名称：三重平滑移动平均线

简介：

三重平滑均线(TRIX)指标在技术分析中用作动量震荡指标。

它由三重指数平滑移动平均线的变化率组成。

TRIX是由Jack Hutson于1980年代初提出的。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

trix：三重平滑移动平均值

TrixSignal 

函数名：TrixSignal

简介：

该指标是三重指数平滑平均线的一条信号线

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

signal：三重指数平滑平均线的指数移动平均值

TrueRange  真实波动幅度

函数名：TrueRange ，TR

中文名称：真实波动幅度

简介：

真实波动幅度是由美国机械工程师、技术分析师威勒斯·威尔德（J. Welles Wilder）1978年所发展出来的技术分析指标。

计算公式：

调用方式：

参数：

无参数

返回：

tr：真实波动幅度

TrueHigh 

函数名：TrueHigh

简介：

真实波动幅度是由美国机械工程师、技术分析师威勒斯·威尔德（J. Welles Wilder）1978年所发展出来的技术分析指标

返回当前 bar 的最高价与上一根 bar 的收盘价的较大值

计算公式：

调用方式：

参数：

无参数

返回：

truehigh

TrueLow

函数名：TrueLow

是否支持绘图：否

简介：

真实波动幅度是由美国机械工程师、技术分析师威勒斯·威尔德（J. Welles Wilder）1978年所发展出来的技术分析指标。

返回当前 bar 的最低价与上一根 bar 的收盘价的较小值

计算公式：

调用方式：

参数：

无参数

返回：

truelow

TSI 真实强弱指标

函数名：TrueStrengthIndicator，TSI

中文名称：真实强弱指标

是否支持绘图：是

简介：

真实强度指数 (TSI) 是一个动量震荡指标。

TSI使用价格动量的双重平滑指数移动平均线，剔除价格的震荡变化并发现趋势的变化。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

tsi：真实强弱值

UltimateOscillator 终极震荡指标

函数名：UltimateOscillator

中文名称：终极震荡指标

是否支持绘图：是

简介：

终极震荡指标(UO)是一种技术分析工具，用于测量跨越三个不同时间帧的动量。

许多动量震荡指标的问题在于，在价格快速上涨或下跌后，它们可能会形成虚假的背离交易信号。例如，在价格迅速上涨之后，可能会出现看跌的背离信号，但价格会继续上涨。

终极震荡指标试图透过在它的计算中使用多个时间框架来纠正这一点，而不是仅仅使用一个时间框架，而这个时间框架是大多数其他动量震荡指标所使用的。

Larry Williams于1976年开发了终极震荡指标(UO)。该指标于1985年在 Stocks & Commodities 杂志上发表。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

uo：终极震荡值

UpDay 上升指标

函数名：UpDay

中文名称：上升指标

简介：

该指标J. Welles Wilder开发，并于1978 年发表在《技术交易系统的新概念》；

如果当前 bar 相对于历史周期前的 bar 上涨，则返回上升值；否则，返回0。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

upday：上升值，返回的是绝对数值

UpDayBool  上升指标

函数名：UpDayBool

中文名称：上升指标

简介：

该指标J. Welles Wilder开发，并于1978 年发表在《技术交易系统的新概念》；

如果当前 bar 相对于历史周期前的 bar 上涨，则返回1.0；否则，返回0.0。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

upday：返回的是布尔值，而不是绝对数值。1.0 代表True；0.0 表示False。

UpMove  上升指标

函数名：UpMove

中文名称：上升指标

简介：

该指标是J·韦尔斯·怀尔德，于1978年发表在《New Concepts in Technical Trading Systems》。

该指标返回当前 bar与上一根 bar 的差值，可用于计算 Directional Indicator。

计算公式：

调用方式：

参数：

无参数

返回：

upmove：当前 bar与上一根 bar 的差值

Vortex 涡旋指标

函数名：Vortex

中文名称：涡旋指标

是否支持绘图：是

简介：

涡旋指标(VI)由两条线组成，分别表示正(VI+)和负(VI-)趋势运动。

它的灵感来自于在水中发现的某些运动，由艾蒂安·博特斯和道格拉斯·西普曼发明。

涡旋指标有一个相对先行的应用:交易员用它来识别趋势的开始。VI+线越过VI-线(或一个关键级别)可以被视为看涨信号。VI-线越过VI+线(或一个关键水平)可能被视为看跌信号。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

vi_plus：正(VI+)趋势运动

vi_minus：负(VI-)趋势运动

WeightedAverage 加权平均法

函数名：WeightedAverage/AverageWeighted

中文名称：加权平均法

简介：

该指标为不同数据赋予不同权重，再平均，即为加权平均。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

av：加权平均值

WMA 移动加权平均法

函数名：WeightedMovingAverage/WMA/MovingAverageWeighted，WMA，MovingAverageWeighted

中文名称：移动加权平均法

是否支持绘图：是

简介：

该指标是在简单移动平均的基础之上发展起来的；

该指标是一种具有乘法因子的平均值，可以为样本窗口中不同位置的数据赋予不同的权重。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

wma：移动加权平均值

WilliamsAD  威廉姆斯累积/派发指标

函数名：WilliamsAD

中文名称：威廉姆斯累积/派发指标

简介：

该指标可用于计算累计价格变动的"累积"和反方向的"派发"。"累积"指市场控制买家，"派发"指市场控制卖家

计算公式：

调用方式：

参数：

无参数

返回：

ad：累积/派发指标

WilliamsR  威廉指标

函数名：WilliamsR

中文名称：威廉指标

是否支持绘图：是

简介：

威廉指标，Williams％R（％R）是技术分析中用于衡量动量的振荡指标，主要用于识别超买和超卖情况。

％R是基于自定义的回溯周期，当前收盘价与最高价之间的比较。

％R的值在0到-100之间波动（请注意负值），读数接近零表示越强烈的超买情况，读数接近-100表示超卖。通常，％R可以基于超买和超卖情况以及动量的整体变化来产生信号。

威廉指标（％R）指标由著名的商品交易员和作家拉里·威廉姆斯（Larry Williams）创建。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

percR：威廉指标

ZLEMA  零滞后指数移动平均线

函数名：ZeroLagExponentialMovingAverage/ZLEMA/ZeroLagEma，ZLEMA，ZeroLagEma

中文名：零滞后指数移动平均线

简介：

零滞后指数移动平均线(ZLEMA)是EMA的一种变化，它增加了一个动量项，旨在减少平均滞后，从而更紧密地跟踪当前价格。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

zlema：零滞后指数移动平均值

ZLIndicator 零滞后指标

函数名：ZeroLagIndicator，ZLIndicator, ZLInd, EC, ErrorCorrecting

中文名：零滞后指标

简介：

零滞后指标(ZLIndicator)是EMA的变体，它通过尝试最小化误差(距离价格 - 误差校正)来修改EMA，从而减少滞后。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

ec：误差校正后的值

FindFirstIndexHighest 周期内第一个最大值索引

函数名：FindFirstIndexHighest

中文名称：周期内第一个最大值索引

简介：

记当前 bar 的索引为0，往前推 period 个bar，返回第一个最大值的索引

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

index：索引值

FindFirstIndexLowest 周期内第一个最小值索引

函数名：FindFirstIndexLowest

中文名称：周期内第一个最小值索引

简介：

记当前 bar 的索引为0，往前推 period 个bar，返回第一个最小值的索引

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

index：索引值，0 表示当前 bar；1表示上一根 bar......以此类推

FindLastIndex 周期内最后一个值索引

函数名：FindLastIndex

中文名称：周期内最后一个值索引

简介：

记当前 bar 的索引为0，往前推 period 个bar，返回满足条件的最后一个数据的索引

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

index：索引值

FindLastIndexHighest 周期内最后一个最大值索引

函数名：FindLastIndexHighest

中文名称：周期内最后一个最大值索引

简介：

记当前 bar 的索引为0，往前推 period 个bar，返回最后一个最大值的索引

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

index：索引值

FindLastIndexLowest 周期内最后一个最小值索引

函数名：FindLastIndexLowest

中文名称：周期内最后一个最小值索引

简介：

记当前 bar 的索引为0，往前推 period 个bar，返回最后一个最小值的索引

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

index：索引值

RSI_Safe 相对强弱指标

函数名：RSI_Safe

中文名称：相对强弱指标

简介：

该指标是相对强弱指标RSI的变种，默认考虑分母为0时的情况。

计算公式：

调用方式：

点击图片可查看完整电子表格

返回：

rsi：相对强弱值

RSI_SMA 相对强弱指标

函数名：RSI_SMA / RSI_Cutler

中文名称：相对强弱指标

简介：

该指标是相对强弱指标RSI的变种，默认均线计算方法采用简单移动平均法。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

rsi：相对强弱值

RSI_EMA 相对强弱指标

函数名：RSI_EMA

中文名称：相对强弱指标

简介：

该指标是相对强弱指标RSI的变种，默认均线计算方法采用指数移动平均法。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

rsi：相对强弱值

DV2 定向容积指数

函数名：DV2

中文名称：定向容积指数

简介：

该指标是由David Varadi创建的，可判断价格趋势走向。

计算公式：

调用方式：

参数：

点击图片可查看完整电子表格

返回：

dv2：分位数值

ZigZag

函数名：zigzag

中文名称：之字转向

简介：

Z字形指示器识别价格趋势，并在图表上绘制点，以标记价格反转，当它们的差异比预定变量大一个百分点时。这些点通过直线相连，帮助交易者确定整体价格趋势。当摆动高点和摆动低点之间有明显移动时，会出现Z字形指示线。该指标还有助于过滤任何微小的价格波动，使交易员更容易专注于趋势、方向和强度水平。

优势：

通过过滤掉微小的价格波动，之字形指示器能够让交易者专注于趋势及其方向。Z字形指示器对于突出趋势方向和降低噪音水平非常有用。它最适用于强劲的趋势市场。“之字形”指标不会评估或预测未来趋势，但它确实有助于识别和绘制波动高点和波动低点。

劣势：

与许多其他趋势跟踪指标类似，Z字形指标预测基于历史和过去价格的买卖信号，这些信号并不总是预测价格趋势的未来方向。尽管如此，在一种趋势的大部分已经来了又走了之后，出现之字形线条并非前所未闻。

计算步骤：

设定价格波动的百分比%；

识别下一个时点的摆动点，可以是摆动的最高点或者最低点，保证与初始点不一致；

基于初始点摆动点与所识别的摆动点，画一条趋势线；

重复以上步骤，识别新的摆动点，保证与上一步骤的摆动点不一致；

基于新的摆动点，画趋势线；

对下一阶段的摆动高点和摆动低点，重复以上步骤。

如果最后一个转向点是最高点，current_price 为当前bar的最低价；否则，current_price 为当前bar的最高价；

Zigzag = 100 * (current_price - 最后一个转向点的价格) / 最后一个转向点的价格

调用方式：

参数：

点击图片可查看完整电子表格

返回值：

zigzag：转向值




---

：文中名词超链接，点击复制链接从浏览器打开。







---

Python
def indicators(context):
    """指标"""
     # 方法一：  
    context.accde = AccelerationDecelerationOscillator(context.data, period=5, movav=SMA)
    # 方法二：
    context.accde = AccDeOsc(context.data, period=5, movav=SMA)







---

Python
def indicators(context):
    """指标"""
    context.accum = Accum(context.data.close, seed=0)







---

Python
def indicators(context):
    """指标"""
    aroon = AroonUpDown(context.data, period=14)
    context.aroonup = aroon.aroonup
    context.aroondown = aroon.aroondown







---

Python
def indicators(context):
    """指标"""
    context.aroonup = AroonUp(context.data, period=14)







---

Python
def indicators(context):
    """指标"""
    context.aroondown = AroonDown(context.data, period=14)







---

Python
def indicators(context):
    """指标"""
    context.aroonosc = AroonOscillator(context.data, period=14)







---

Python
def indicators(context):
    """指标"""
    context.av = Average(context.data.close, period=1)







---

Python
def indicators(context):
    """指标"""
    context.adx = AverageDirectionalMovementIndex(context.data, period=14, movav=SMMA)







---

Python
def indicators(context):
    """指标"""
    context.adxr = AverageDirectionalMovementIndexRating(context.data, period=14, movav=SMMA).adxr







---

Python
def indicators(context):
    """指标"""
    # 设置真实波幅均值周期
    context.atr_period = 20
    # 获取真实波幅波动均值ATR
    context.atr = AverageTrueRange(context.data, period=context.atr_period)







---

Python
def indicators(context):
    """指标"""
    context.ao = AwesomeOscillator(context.data, fast=5, slow=34, movav=SMA)







---

Python
def indicators(context):
    """指标"""
    arbr = ARBR(context.data, period=26)
    context.ar = arbr.ar
    context.br = arbr.br
    context.arbr = arbr.arbr







---

Python
def indicators(context):
    """指标"""
    # 计算布林带指标，周期为 20 天，k 值为 2
    boll = BollingerBands(context.data.close, period=20, devfactor=2)
    
    # 获取上轨线
    context.top = boll.top
    # 获取中轨线
    context.mid = boll.mid
    # 获取下轨线
    context.bot = boll.bot







---

Python
def indicators(context):
    """指标"""
    context.pctb = BollingerBandsPct(context.data)
   
def timing(context):
    context.log(context.pctb.pctb[0])







---

Python
def indicators(context):
    """指标"""
    context.bias = BIAS(context.data, period=6, movav=SMA)







---

Python
def indicators(context):
    """指标"""
    context.bop = BOP(context.data)







---

Python
def indicators(context):
    """指标"""
    # 计算周期为 20 日的 CCI 指标
    context.cci = CommodityChannelIndex(context.data, period=20)







---

Python
def indicators(context):
    """指标"""
    context.cross = CrossDown(context.data, context.data(-1))







---

Python
def indicators(context):
    """指标"""
    context.crossover = CrossOver(context.data, context.data(-1))







---

Python
def indicators(context):
    """指标"""
    context.cross = CrossUp(context.data, context.data(-1))







---

Python
def indicators(context):
    """指标"""
    # 方法一
    context.dpo = DetrendedPriceOscillator(context.data, period=20, movav=SMA)
    # 方法二
    context.dpo = DPO(context.data, period=20, movav=SMA)







---

Python
def indicators(context):
    """指标"""
    context.dma = DMA(context.data.close,
                      period=30,
                      gainlimit=50,
                      _movav=EMA,
                      hperiod=7,
                      _hma=HMA)







---

Python
def indicators(context):
    """指标"""
    di = DirectionalIndicator(context.data, period=14, movav=SMMA)
    context.plusDI = di.plusDI
    context.minusDI = di.minusDI







---

Python
def indicators(context):
    """指标"""
    dm = DirectionalMovement(context.data, period=14, movav=SMMA)
    context.adx = dm.adx
    context.adxr = dm.adxr
    context.plusDI = dm.plusDI
    context.minusDI = dm.minusDI







---

Python
def indicators(context):
    """指标"""
    dmi = DirectionalMovementIndex(context.data, period=14, movav=SMMA)
    context.adx = dmi.adx
    context.plusDI = dmi.plusDI
    context.minusDI = dmi.minusDI







---

Python
def indicators(context):
    """指标"""
    # 方式一：
    context.dema = DoubleExponentialMovingAverage(context.data, period=30, 
                                                  _movav=EMA)
    # 方式二：
    context.dema = MovingAverageDoubleExponential(context.data, period=30, 
                                                  _movav=EMA)
    # 方式三：
    context.dema = DEMA(context.data, period=30, _movav=EMA)







---

Python
def indicators(context):
    """指标"""
    dc = DonchianChannel(context.data, period=20)
    context.mid = dc.mid
    context.top = dc.top
    context.bot = dc.bot







---

Python
def indicators(context):
    """指标"""
    context.downday = DownDay(context.data.close, period=1)







---

Python
def indicators(context):
    """指标"""
    context.downday = DownDayBool(context.data.close, period=1)







---

Python
def indicators(context):
    """指标"""
    context.downmove = DownMove(context.data.close)







---

Python
def indicators(context):
    """指标"""
    context.dummyline = DummyInd(context.data)
    
def timing(context):
    context.log(context.dummyline.dummyline[0])







---

Python
def indicators(context):
    """指标"""
     # 训练DQN模型
    context.dqn_prediction = DQN(start_date='2010-01-01',
                                 eval_date='2019-06-01',
                                               end_date='2021-06-01',
                                 hid_dim=512,
                                 buy_on_percent=1,
                                 sell_on_percent=1,
                                 learning_rate_q=0.0001,
                                 break_epoch=7,
                                 repeat_times=25)







---

Python
def indicators(context):
    """指标"""
    # 计算 15 日 EMA 值
    context.ema = EMA(context.data.close, period=15)
    
    
def choose_stock(context):
    """标的"""
    # 设置标的为康泰生物
    context.symbol_list = ["300601.XSHE"]
    

def timing(context):
    """择时"""
    # 获取当天的 EMA 值
    context.ema[0]
    # 获取昨天的 EMA 值
    context.ema[-1]







---

Python
def indicators(context):
    """指标"""
    context.emv = EMV(context.data, period=20)







---

Python
def indicators(context):
    """指标"""
    env = Envelope(context.data.close, perc=2.5)
    context.src = env.src
    context.top = env.top
    context.bot = env.bot







---

Python
def indicators(context):
    """指标"""
    # 方法一
    context.av = ExponentialSmoothing(context.data, period=1, alpha=None)
    # 方法二
    context.av = ExpSmoothing(context.data, period=1, alpha=None)







---

Python
def indicators(context):
    """指标"""
    # 方法一
    context.av = ExponentialSmoothingDynamic(context.data, period=1, alpha=Max(0))
    # 方法二
    context.av = ExpSmoothingDynamic(context.data, period=1, alpha=Max(0))







---

Python
def indicators(context):
    """指标"""
    heikinashi = HeikinAshi(context.data)
    context.open = heikinashi.open
    context.high = heikinashi.high
    context.low = heikinashi.low
    context.close = heikinashi.close







---

Python
def indicators(context):
    """指标"""
    # 方法一
    context.highest = Highest(context.data, period=1)
    # 方法二
    context.highest = MaxN(context.data, period=1)







---

Python
def indicators(context):
    """指标"""
    # 方式一：
    context.hma = HullMovingAverage(context.data, period=30, _movav=WMA)
    # 方式二：
    context.hma = HMA(context.data, period=30, _movav=WMA)
     # 方式三：
    context.hma = HullMA(context.data, period=30, _movav=WMA)







---

Python
def indicators(context):
    """指标"""
    context.hurst = Hurst(context.data.close,
                          period=40,
                          lag_start=2,
                          lag_end=20)







---

Python
def indicators(context):
    """指标"""
    # 方法一
    hd = haDelta(context.data, period=6, movav=SMA, autoheikin=True)
    # 方法二
    hd = haD(context.data, period=6, movav=SMA, autoheikin=True)
    context.haDelta = hd.haDelta
    context.smoothed = hd.smoothed







---

Python
def indicators(context):
    """指标"""
    hilbert = Hilbert(context.data, period_smooth=20, period_hp=48)
    context.real = hilbert.real
    context.imag = hilbert.imag







---

Python
def indicators(context):
    """指标"""
    context.kama = AdaptiveMovingAverage(context.data.close, period=30, fast=2, slow=30)







---

Python
def indicators(context):
    """指标"""
    kc = KeltnerChannel(context.data, period=20, devfactor=2)
    context.mid = kc.mid
    context.top = kc.top
    context.bot = kc.bot







---

Python
def indicators(context):
    """指标"""
    KST = KnowSureThing(context.data.close, 
                        rp1=10, 
                        rp2=15, 
                        rp3=20, 
                        rp4=30,
                        rma1=10,
                        rma2=10, 
                        rma3=10, 
                        rma4=10, 
                        rsignal=9, 
                        rfactors=[1.0, 2.0, 3.0, 4.0], 
                        _rmovav=SMA,
                        _smovav=SMA)
    
    context.kst = KST.kst
    context.signal = KST.signal







---

Python
def indicators(context):
    """指标"""
    kdj = KDJ(context.data,
              period=14,
              period_dfast=3,
              period_dslow=3,
              safediv=False,
              safezero=0.0,
              movav=SMA)

    context.percJ = kdj.percJ
    context.percK = kdj.percK
    context.percD = kdj.percD







---

Python
def indicators(context):
    """指标"""
    # 方法一
    context.lfilter = LaguerreFilter(context.data, period=1, gamma=0.5)
    # 方法二
    context.lfilter = LAGF(context.data, period=1, gamma=0.5)







---

Python
def indicators(context):
    """指标"""
    context.lrsi = LRSI(context.data.close, period=6, gamma=0.5)







---

Python
def indicators(context):
    """指标"""
    context.lowest = Lowest(context.data, period=1)
    # 也可以这样写：
    context.lowest = MinN(context.data, period=1)







---

Python
def indicators(context):
    """指标"""
    # MACD 类的实例化，快的 EMA 周期为 12，慢的 EMA 周期为 26，差离值计算周期为 9 
    macd_instance = MACD(context.data.close, period_me1=12, period_me2=26, period_signal=9)

    # 将对应的值写入到字典中
    context.stock1_macd = {
        'DIF 值': macd_instance.macd,
        'DEA 值': macd_instance.signal,
        'MACD 值': macd_instance.macd-macd_instance.signal
    }
    
    
def choose_stock(context):
    """标的"""
    # 设置标的为康泰生物
    context.symbol_list = ["300601.XSHE"]
    

def timing(context):
    """择时"""
    # 获取当天 DIF 值
    context.stock1_macd['DIF 值'][0]
    # 获取当天 DEA 值
    context.stock1_macd['DEA 值'][0]
    # 获取当天 MACD 值
    context.stock1_macd['MACD 值'][0]







---

Python
def indicators(context):
    """指标"""
    _macd = MACDHisto(context.data.close, 
                      period_me1=12, 
                      period_me2=26, 
                      period_signal=9, 
                      movav=EMA)
    context.macd = _macd.macd
    context.signal = _macd.signal
    context.histo = _macd.histo







---

Python
def indicators(context):
    """指标"""
    maemv = MAEMV(context.data, period=6, movav=SMA)
    context.emv = maemv.emv
    context.maemv = maemv.maemv







---

Python
def indicators(context):
    """指标"""
    context.meandev = MeanDeviation(context.data.close, period=20,  movav=SMA)







---

Python
def indicators(context):
    """指标"""
    context.minusDI = MinusDirectionalIndicator(context.data, period=14, movav=SMMA)







---

Python
def indicators(context):
    """指标"""
    context.momentum = Momentum(context.data.close, period=12)







---

Python
def indicators(context):
    """指标"""
    context.momosc = MomentumOsc(context.data.close, period=12)







---

Python
def indicators(context):
    """指标"""
    context.nzd = NZD(context.data.close, context.data.close(-1))







---

Python
def indicators(context):
    """指标"""
    context.obv = OBV(context.data)







---

Python
def indicators(context):
    """指标"""
    context.osc = Oscillator(context.data.close, context.data.close(-1))







---

Python
def indicators(context):
    """指标"""
    context.psar = PSAR(context.data, period=2, af=0.02, afmax=0.20)







---

Python
def indicators(context):
    """指标"""
    context.pctchange = PctChange(context.data.close, period=12)







---

Python
def indicators(context):
    """指标"""
    ppo = PercPriceOsc(context.data.close, 
                       period1=12, 
                       period2=26, 
                       period_signal=9, 
                       _movav=EMA)

    context.ppo = ppo.ppo
    context.signal = ppo.signal
    context.histo = ppo.histo







---

Python
def indicators(context):
    """指标"""
    context.pctchange = PctRank(context.data.close, period=50)







---

Python
def indicators(context):
    """指标"""
    context.plusDI = PlusDirectionalIndicator(context.data, period=14, movav=SMMA)







---

Python
def indicators(context):
    """指标"""
    context.pgo= PGO(context.data, period=14, _movav=SMA)







---

Python
def indicators(context):
    """指标"""
     # 训练PPO模型
    context.ppo_prediction = PPO(start_date='2010-01-01', eval_date='2019-06-01',
                                 end_date='2021-06-01', hid_dim=2048,
                                 learning_rate_pi=0.0001, learning_rate_q=0.002,
                                 break_epoch=23, repeat_times=47,
                                 train_separately=True)







---

Python
def indicators(context):
    """指标"""
    context.po = APO(context.data.close, period1=12, period2=26, _movav=EMA)







---

Python
def indicators(context):
    """指标"""
    context.roc = ROC(context.data.close, period=12)







---

Python
def indicators(context):
    """指标"""
    context.roc100 = ROC100(context.data.close, period=12)
    
    context.ta_roc100 =  talib.ROC(context.data.close, timeperiod=12)







---

Python
def indicators(context):
    """指标"""
    # 方法一：
    context.rmi = RelativeMomentumIndex(context.data, period=20, lookback=5)
    # 方法二：
    context.rmi = RMI(context.data, period=20, lookback=5)







---

Python
def indicators(context):
    """指标"""
    context.rsi = RSI(context.data.close,
                      period=14, 
                      movav=SMMA, 
                      lookback=1, 
                      safehigh=100, 
                      safelow=50,
                      safediv=False)







---

Python
def indicators(context):
    """指标"""
    # 计算 15 日平均线
    context.sma = SMA(context.data.close, period=15)







---

Python
def indicators(context):
    """指标"""
    context.smma = SMMA(context.data.close, period=30)







---

Python
def indicators(context):
    """指标"""
    context.stddev = StdDev(context.data.close,
                            period=20,
                            movav=SMA,
                            safepow=True)







---

Python
def indicators(context):
    """指标"""
    stochastic = StochasticSlow(context.data, 
                                period=14, 
                                period_dfast=3, 
                                period_dslow=3,
                                safediv=False, 
                                safezero=0.0, 
                                movav=SMA)

    context.percK = stochastic.percK
    context.percD = stochastic.percD







---

Python
def indicators(context):
    """指标"""
    stochastic = StochasticFast(context.data, 
                                period=14, 
                                period_dfast=3, 
                                safediv=False, 
                                safezero=0.0, 
                                movav=SMA)

    context.percK = stochastic.percK
    context.percD = stochastic.percD







---

Python
def indicators(context):
    """指标"""
    stochastic = StochasticFull(context.data, 
                                period=14, 
                                period_dfast=3,
                                period_dslow=3, 
                                safediv=False, 
                                safezero=0.0, 
                                movav=SMA)

    context.percK = stochastic.percK
    context.percD = stochastic.percD
    context.percDSlow = stochastic.percDSlow







---

Python
def indicators(context):
    """指标"""
    context.svm_prediction = SVMUpDown(start_date='2016-04-01',
                                end_date='2017-07-30',
                                period=15,
                                kernel='rbf',
                                gamma=0.001,
                                C=0.6,
                                day_num=5,
                                up_rate=0.0)







---

Python
def indicators(context):
    """指标"""
    # 方法一
    context.tema = TripleExponentialMovingAverage(context.data, period=30,
                                                  _movav=EMA)
    # 方法二
    context.tema = TEMA(context.data, period=15, _movav=EMA)
    # 方法三
    context.tema = MovingAverageTripleExponential(context.data, period=30,
                                                  _movav=EMA)







---

Python
def indicators(context):
    """指标"""
    context.trix = Trix(context.data, period=15, _rocperiod=1, _movav=EMA)







---

Python
def indicators(context):
    """指标"""
    signal = TrixSignal(context.data.close,
                        sigperiod=9,
                        period=15,
                        _rocperiod=1,
                        _movav=EMA)
    
    context.signal = signal.signal







---

Python
def indicators(context):
    """指标"""
    context.tr = TR(context.data)







---

Python
def indicators(context):
    """指标"""
    context.truehigh = TrueHigh(context.data)







---

Python
def indicators(context):
    """指标"""
    context.truelow = TrueLow(context.data)







---

Python
def indicators(context):
    """指标"""
    context.tsi = TrueStrengthIndicator(context.data, period1=25, period2=13, 
                                       pchange=1, _movav=EMA)







---

Python
def indicators(context):
    """指标"""
    context.uo = UltimateOscillator(context.data, p1=7, p2=14, p3=28）







---

Python
def indicators(context):
    """指标"""
    context.upday = UpDay(context.data.close, period=1)







---

Python
def indicators(context):
    """指标"""
    context.upday = UpDayBool(context.data.close, period=1)







---

Python
def indicators(context):
    """指标"""
    context.upmove = UpMove(context.data.high)







---

Python
def indicators(context):
    """指标"""
    # 计算vortex指标
    context.vortex = Vortex(context.data, period=14)
    
    # 获取vi_plus值
    context.vi_plus = context.vortex.vi_plus
    # 获取vi_minus值
    context.vi_minus = context.vortex.vi_minus







---

Python
def indicators(context):
    """指标"""
    # 方法一
    context.av = WeightedAverage(context.data, period=30, 
                                 coef=1.0, weights=tuple())
    # 方法二
    context.av = AverageWeighted(context.data, period=30,
                                 coef=1.0, weights=tuple())







---

Python
def indicators(context):
    """指标"""
    # 方法一
    context.wma = WeightedMovingAverage(context.data, period=30)
    # 方法二
    context.wma = WMA(context.data, period=30)
    # 方法三
    context.wma = MovingAverageWeighted(context.data, period=30)







---

Python
def indicators(context):
    """指标"""
    context.ad = WilliamsAD(context.data)







---

Python
def indicators(context):
    """指标"""
    context.percR = WilliamsR(context.data, period=30, upperband=-20.0,
                              lowerband=-80.0)







---

Python
def indicators(context):
    """指标"""
    # 方法一
    context.zlema = ZeroLagExponentialMovingAverage(context.data, period=30, 
                                                    _movav=EMA)
    # 方法二
    
    context.zlema = ZLEMA(context.data, period=30, _movav=EMA)
    # 方法三
    context.zlema = ZeroLagEma(context.data, period=30, _movav=EMA)







---

Python
def indicators(context):
    """指标"""
    # 方法一
    context.ec = ZeroLagIndicator(context.data, gainlimit=50, _movav=EMA)
    # 方法二
    context.ec = ZLIndicator(context.data, gainlimit=50, _movav=EMA)
    # 方法三
    context.ec = ZLInd(context.data, gainlimit=50, _movav=EMA)
    # 方法四
    context.ec = EC(context.data, gainlimit=50, _movav=EMA)
    # 方法五
    context.ec = ErrorCorrecting(context.data, gainlimit=50, _movav=EMA)







---

Plain Text
def indicators(context):
    """指标"""
    context.index = FindFirstIndexHighest(context.data.close, _evalfunc=max, period=1)







---

Plain Text
def indicators(context):
    """指标"""
    context.index = FindFirstIndexLowest(context.data.close, _evalfunc=min, period=1)







---

Plain Text
def indicators(context):
    """指标"""
    context.index = FindLastIndex(context.data.close, _evalfunc=min, period=1)







---

Plain Text
def indicators(context):
    """指标"""
    context.index = FindLastIndexHighest(context.data.close, _evalfunc=max, period=1)







---

Plain Text
def indicators(context):
    """指标"""
    context.index = FindLastIndexLowest(context.data.close, _evalfunc=min, period=1)







---

Plain Text
def indicators(context):
    """指标"""
    context.rsi = RSI_Safe(context.data.close,
                           period=14,
                           movav=SMMA,
                           lookback=1,
                           safehigh=100,
                           safelow=50,
                           safediv=True)
参数：







---

Plain Text
def indicators(context):
    """指标"""
    context.rsi = RSI_SMA(context.data.close,
                          period=14,
                          movav=SMA,
                          lookback=1,
                          safehigh=100,
                          safelow=50,
                          safediv=False)







---

Plain Text
def indicators(context):
    """指标"""
    context.rsi = RSI_EMA(context.data.close,
                          period=14,
                          movav=EMA,
                          lookback=1,
                          safehigh=100,
                          safelow=50,
                          safediv=False)







---

Plain Text
def indicators(context):
    """指标"""
    context.dv2 = DV2(context.data,
                      period=252,
                      maperiod=2,
                      _movav=SMA)







---

Python
def indicators(context):
    """指标"""
    context.zigzag = ZigZag(context.data, deviation=5, depth=10)


