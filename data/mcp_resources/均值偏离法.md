---
title: 均值偏离法
type: syntax
source: data/帮助文档/语法手册/均值偏离法.docx
format: markdown
---

# 均值偏离法

均值偏离法

一、方法说明

1. 概念含义 

均值偏离法，指通过计算数据相对偏差的方法，得到数据与其平均值的偏离比例。

2. 数学原理 

相对偏差，是指某一次测量的绝对偏差占平均值的百分比。

平均值能够反映整体数据的一般水平或分布的趋势，因此均值偏离法是通过对某一次测量的值与平均值进行比较的方式，作为此次测量值水平的参考依据。

而由于绝对偏差是具体数值差，只能反映具体的数值差距，无法直观地反映数据的偏离程度。

例如：均值为10时，绝对偏差为1；均值为100时，绝对偏差为1。同样的绝对偏差在不同的均值下，却有截然不同的意义。

因此，在考虑绝对偏差的同时还需要考虑相对偏差。

3. 主要作用 

1）反映偏离

由于相对偏差把某次测量值与平均值之间的比较用百分数比例呈现了出来，因此可以反映此次测量值与平均值的偏离程度。

2）划分范围 

由于计算得到的相对偏差数据均为百分数，因此可以根据实际情况提前对其进行划分范围，即对不同程度的偏离划分范围。

4. 操作步骤 

1）步骤一：划分偏离范围 

划分偏离均线的范围，令所有的相对偏差值都能找到其所属的区域（偏离程度）。当相对偏差为 0% 的时候为 0 挡，表示此时测量数据的值等于平均值。

2）步骤二：计算平均值 

将一组数据中的所有数据进行相加求和，再使用得到的和除以这组数据的个数，得到平均值。

3）步骤三：计算相对偏差 

将需要观测的数据减去平均值，得到的差除以平均值并乘以100%，得到相对偏差。

4）步骤四：判断所属范围 

将相对偏差与划分好的偏离范围进行比较，判断其所属偏离程度。

a) 如 -40% 在 (-∞, -40%] 范围之内； 

数据 3 的偏离程度为 -3 挡。 

b) 如 60% 在 [40%, +∞) 范围之内； 

数据 8 的偏离程度为 +3 挡。 

二、方法应用

5. 交易经验 

交易背景

根据均值回归理论，股票价格无论高于或低于均值多少，都会有很大的概率最终向均值的趋势回归。即涨的太多了，就会向平均值移动下跌；跌的太多了，就会向平均值移动上升。

在这种背景下，市场上逐渐诞生了一个交易经验，那就是当对股票进行定投的时候，可以根据当前股价所处的高低位增减定投金额，通过降低平均持仓成本从而获取更多的收益。

交易想法

6. 问题描述 

7. 量化思路 

难点

我们都知道股票是通过低买高卖来获取收益，但是仅仅通过股票当前的价格，难以判断是处于高位还是低位。 

即使我们判断出了股价是处于高位还是低位，也难以直接定量划分少买多买的程度。 

原因

股票价格是处于高位还是低位需要结合例如历史走势或者市盈率等指标进行判断，单一地从当前价格来看无法判断。 

例如下图中当前股价为 1758 左右，光从这个信息中我们是无法判断当前的价格到底是处于高位还是低位的： 

但是结合下图查看近 3 年的历史走势，我们可以大致判断出当前的价格是处在较高的位置的： 

而如果想要更准确的进行判断，还可以结合市盈率等指标。

在实际进行定投时，投入的多与少会影响到策略的实际收益，因此我们需要确定每次投入的具体数值是多少，而高位少买低位多买只是一个模糊主观的说法。

思路

均值偏离具有反映偏离程度和划分范围的作用。而在投资市场中，通常使用均线来代表股票价格的均值，且股票价格通常都是围绕着均线上下波动。因此可以通过计算当前价格与均线的相对偏差，从而来判断是高位还是低位。

使用均值偏离法后，当前价格可以用相对偏差数值代替表示，因此可以提前为相对偏差数值划分不同的范围，给每一个范围设置不同的定投率。

那么每一次的定投金额即可用定投额=基本定投额*定投率进行计算，以此确定了少买多买的标准和程度。

8. 场景应用 

第一步：划分偏离范围。需要给相对偏差比例划分范围，同时给每个范围设置不同的定投率。比如可以设置价格每向上偏离 10%，定投率减少 0.1；价格每向下偏离 10%，定投率增加 0.1。(注：相对偏差为 0% 时的定投率为 1.0)

第二步：计算平均值。在投资市场中，240 日均线通常被认为是大盘牛熊市的分水岭，因此选择 240日均线作为平均值，计算当日（2022-05-25）240 日均线的值。这一步可以直接使用 HiTrader 中的 "SMA 简单移动平均线" 指标进行计算，从下图中可以看到当日的平均值为 1861.34。

第三步：计算相对偏差。需要计算当日（2022-05-25）价格（1755.51）与当日 240 日均线的值（1861.34）的相对偏差，直接代入公式即可。

第四步：判断所属范围。需要根据第一步划分的偏离范围判断此相对偏差所属范围，并根据设置的定投率进行定投。我们假定基本定投额为 1000 元。

当日（2022-05-25）价格的相对偏差为 -5.69%，在 (-10%, 0%) 区间之内，所以定投率为 1.1。 

定投额 = 基本定投额 * 定投率 = 1000*1.1 = 1100 元

三、总结延伸

9. 总结 

我们可以抓住这个核心，从而对其进行变式，以灵活适应实际情形。

10. 延伸 

除了上述的方法应用之外。

1）还可以考虑使用该方法对其他指标进行判断，作为买卖动作的参考依据。 

例如将股价替换为成交额或换手率等指标。 

2）可以考虑采用不同的划分范围方法。 

例如价格偏离40%以上，定投率设为0；价格偏离40%以下，定投率设为2倍。 

3）可以考虑使用其他的代表性数值，计算测量数据与代表性数值的偏离程度，作为该测量数据水平的参考依据。 

例如将平均值替换为最大值、最小值、中位数等。




---

提示：
绝对偏差是某一次测量值与平均值之差，反映具体的数值差距。
平均值是算术平均值，反映整体数据的一般水平，或分布的趋势。







---

优势：相对偏差是通过计算某一次测量值与平均值的差占平均值的比例，得到百分数比例，从而更为准确地衡量此次测量值对平均值的偏离程度。







---

高位少买，低位多买。在高位的时候减少定投金额，在低位的时候增加定投金额。







---

高位低位的标准是什么？少买和多买的程度如何划分？







---

既然通过价格的高低难以判断当前处于高位还是低位，那我们是否可以把思路从判断具体价格的高低，转变为判断其与均线的偏离程度呢？







---

从判断具体价格的高低，转变为判断其与均线的偏离程度。以此定义相对高位和低位的标准，并且通过划分偏离程度的范围来确定多买少买的程度。







---

提示：以下示例以当前交易日 2022-05-25 为例，选取的标的为贵州茅台(600519.XSHG)。







---

方法的核心是——判断当前数据与其代表性数值的偏离程度。







---

备注：
由于均值偏离法是通过计算观测数据与“均值”的偏离程度，从而作为该数据水平的参考依据。因此“均值”的选择至关重要，均值的代表性不足也会导致均值偏离法的参考性不足。
当选择好合适的“均值”后，可以使用大盘指数进行测试。


